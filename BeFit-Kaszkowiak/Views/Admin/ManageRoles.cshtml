@model BeFit_Kaszkowiak.Models.ManageRolesViewModel

@{
    ViewData["Title"] = "Zarządzaj rolami: " + (Model?.UserName ?? "");
}

<h1>@ViewData["Title"]</h1>

<form asp-action="ManageRoles" method="post">
    @Html.AntiForgeryToken()
    <input type="hidden" asp-for="UserId" />

    <div class="mb-3">
        @if (Model?.Roles == null || !Model.Roles.Any())
        {
            <p>Brak dostępnych ról.</p>
        }
        else
        {
            for (int i = 0; i < Model.Roles.Count; i++)
            {
                var role = Model.Roles[i];
                <div class="form-check">
                    <input class="form-check-input"
                           type="checkbox"
                           name="Roles[@i].Selected"
                           value="true"
                           @(role.Selected ? "checked=\"checked\"" : "") />
                    <input type="hidden" name="Roles[@i].RoleName" value="@role.RoleName" />
                    <label class="form-check-label">@role.RoleName</label>
                </div>
            }
        }
    </div>

    <button class="btn btn-primary">Zapisz</button>
    <a asp-action="Index" class="btn btn-secondary">Anuluj</a>
</form>
